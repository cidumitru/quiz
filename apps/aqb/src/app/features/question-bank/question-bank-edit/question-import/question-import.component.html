<div class="row">
    <div class="column">
        <h1>Raw questions</h1>
        <mat-form-field appearance="fill" style="width: 100%">
            <mat-label>Raw questions</mat-label>
            <textarea [formControl]="control" matInput rows="30"></textarea>
        </mat-form-field>
    </div>
    <div class="column">
        @if ((questions$ | async); as questions) {
            @if (questions.length > 0) {
                <h1>Output
                    <button mat-button 
                            appearance="filled" 
                            color="primary" 
                            [disabled]="isImporting()"
                            (click)="import()">
                        @if (isImporting()) {
                            <mat-spinner diameter="20"></mat-spinner>
                            Importing...
                        } @else {
                            Import {{questions.length}} questions
                        }
                    </button>
                </h1>
                <div style="max-height: 80vh; overflow:scroll">
                    @for (i of questions; track $index) {
                        <mat-card style="margin-bottom: 1rem;">
                            <mat-card-header>
                                <mat-card-title>
                                    {{i.question}}
                                </mat-card-title>
                            </mat-card-header>
                            <mat-card-content>
                                <mat-radio-group>
                                    @for (option of i.options; track option) {
                                        <mat-radio-button [value]="option">{{option}}</mat-radio-button>
                                    }
                                </mat-radio-group>
                            </mat-card-content>
                        </mat-card>
                    }
                </div>
            }
        }
    </div>
</div>
