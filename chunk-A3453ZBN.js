import{a as Or}from"./chunk-MNPMLYZV.js";import{O as Zt,S as Vt,Vc as $t,d as nt,m as Y,n as qt}from"./chunk-WL6JEFOM.js";import{a as u,b as v,d as V,e as me,f as b,g as I}from"./chunk-WR2VUDLS.js";var W=V((ye,ot)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.default=$r;function $r(t){if(t==null)throw new TypeError("Expected a string but received a ".concat(t));if(t.constructor.name!=="String")throw new TypeError("Expected a string but received a ".concat(t.constructor.name))}ot.exports=ye.default;ot.exports.default=ye.default});var Pt=V((_e,ct)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.default=Lr;var jr=Dr(W());function Dr(t){return t&&t.__esModule?t:{default:t}}function ut(t){"@babel/helpers - typeof";return ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ut(t)}function Lr(t,r){(0,jr.default)(t);var e,s;ut(r)==="object"?(e=r.min||0,s=r.max):(e=arguments[1],s=arguments[2]);var a=encodeURI(t).split(/%..|./).length-1;return a>=e&&(typeof s>"u"||a<=s)}ct.exports=_e.default;ct.exports.default=_e.default});var Bt=V((ve,dt)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.default=Br;function Pr(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Br(t,r){for(var e=0;e<r.length;e++){var s=r[e];if(t===s||Pr(s)&&s.test(t))return!0}return!1}dt.exports=ve.default;dt.exports.default=ve.default});var ft=V((xe,lt)=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.default=Qr;function Qr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;for(var e in r)typeof t[e]>"u"&&(t[e]=r[e]);return t}lt.exports=xe.default;lt.exports.default=xe.default});var Ut=V((be,pt)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.default=Gr;var Ur=Qt(W()),Wr=Qt(ft());function Qt(t){return t&&t.__esModule?t:{default:t}}var Hr={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function Gr(t,r){(0,Ur.default)(t),r=(0,Wr.default)(r,Hr),r.allow_trailing_dot&&t[t.length-1]==="."&&(t=t.substring(0,t.length-1)),r.allow_wildcard===!0&&t.indexOf("*.")===0&&(t=t.substring(2));var e=t.split("."),s=e[e.length-1];return r.require_tld&&(e.length<2||!r.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(s)||/\s/.test(s))||!r.allow_numeric_tld&&/^\d+$/.test(s)?!1:e.every(function(a){return!(a.length>63&&!r.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(a)||/[\uff01-\uff5e]/.test(a)||/^-|-$/.test(a)||!r.allow_underscores&&/_/.test(a))})}pt.exports=be.default;pt.exports.default=be.default});var Ht=V((ke,gt)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.default=mt;var Jr=Yr(W());function Yr(t){return t&&t.__esModule?t:{default:t}}function ht(t){"@babel/helpers - typeof";return ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ht(t)}var Wt="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",H="(".concat(Wt,"[.]){3}").concat(Wt),Xr=new RegExp("^".concat(H,"$")),T="(?:[0-9a-fA-F]{1,4})",Kr=new RegExp("^("+"(?:".concat(T,":){7}(?:").concat(T,"|:)|")+"(?:".concat(T,":){6}(?:").concat(H,"|:").concat(T,"|:)|")+"(?:".concat(T,":){5}(?::").concat(H,"|(:").concat(T,"){1,2}|:)|")+"(?:".concat(T,":){4}(?:(:").concat(T,"){0,1}:").concat(H,"|(:").concat(T,"){1,3}|:)|")+"(?:".concat(T,":){3}(?:(:").concat(T,"){0,2}:").concat(H,"|(:").concat(T,"){1,4}|:)|")+"(?:".concat(T,":){2}(?:(:").concat(T,"){0,3}:").concat(H,"|(:").concat(T,"){1,5}|:)|")+"(?:".concat(T,":){1}(?:(:").concat(T,"){0,4}:").concat(H,"|(:").concat(T,"){1,6}|:)|")+"(?::((?::".concat(T,"){0,5}:").concat(H,"|(?::").concat(T,"){1,7}|:))")+")(%[0-9a-zA-Z.]{1,})?$");function mt(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,Jr.default)(t);var e=(ht(r)==="object"?r.version:arguments[1])||"";return e?e.toString()==="4"?Xr.test(t):e.toString()==="6"?Kr.test(t):!1:mt(t,{version:4})||mt(t,{version:6})}gt.exports=ke.default;gt.exports.default=ke.default});var Yt=V((we,_t)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.default=fs;var es=se(W()),Gt=se(Bt()),yt=se(Pt()),ts=se(Ut()),Jt=se(Ht()),rs=se(ft());function se(t){return t&&t.__esModule?t:{default:t}}var ss={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},as=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,ns=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,is=/^[a-z\d]+$/,os=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,us=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,cs=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,ds=254;function ls(t){var r=t.replace(/^"(.+)"$/,"$1");if(!r.trim())return!1;var e=/[\.";<>]/.test(r);if(e){if(r===t)return!1;var s=r.split('"').length===r.split('\\"').length;if(!s)return!1}return!0}function fs(t,r){if((0,es.default)(t),r=(0,rs.default)(r,ss),r.require_display_name||r.allow_display_name){var e=t.match(as);if(e){var s=e[1];if(t=t.replace(s,"").replace(/(^<|>$)/g,""),s.endsWith(" ")&&(s=s.slice(0,-1)),!ls(s))return!1}else if(r.require_display_name)return!1}if(!r.ignore_max_length&&t.length>ds)return!1;var a=t.split("@"),n=a.pop(),i=n.toLowerCase();if(r.host_blacklist.length>0&&(0,Gt.default)(i,r.host_blacklist)||r.host_whitelist.length>0&&!(0,Gt.default)(i,r.host_whitelist))return!1;var o=a.join("@");if(r.domain_specific_validation&&(i==="gmail.com"||i==="googlemail.com")){o=o.toLowerCase();var c=o.split("+")[0];if(!(0,yt.default)(c.replace(/\./g,""),{min:6,max:30}))return!1;for(var p=c.split("."),h=0;h<p.length;h++)if(!is.test(p[h]))return!1}if(r.ignore_max_length===!1&&(!(0,yt.default)(o,{max:64})||!(0,yt.default)(n,{max:254})))return!1;if(!(0,ts.default)(n,{require_tld:r.require_tld,ignore_max_length:r.ignore_max_length,allow_underscores:r.allow_underscores})){if(!r.allow_ip_domain)return!1;if(!(0,Jt.default)(n)){if(!n.startsWith("[")||!n.endsWith("]"))return!1;var _=n.slice(1,-1);if(_.length===0||!(0,Jt.default)(_))return!1}}if(r.blacklisted_chars&&o.search(new RegExp("[".concat(r.blacklisted_chars,"]+"),"g"))!==-1)return!1;if(o[0]==='"'&&o[o.length-1]==='"')return o=o.slice(1,o.length-1),r.allow_utf8_local_part?cs.test(o):os.test(o);for(var Z=r.allow_utf8_local_part?us:ns,w=o.split("."),R=0;R<w.length;R++)if(!Z.test(w[R]))return!1;return!0}_t.exports=we.default;_t.exports.default=we.default});var Kt=V((Ae,xt)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=xs;var ms=gs(W());function gs(t){return t&&t.__esModule?t:{default:t}}var ys=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,_s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,vs=function(r){var e=r.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(e){var s=Number(e[1]),a=Number(e[2]);return s%4===0&&s%100!==0||s%400===0?a<=366:a<=365}var n=r.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),i=n[1],o=n[2],c=n[3],p=o&&"0".concat(o).slice(-2),h=c&&"0".concat(c).slice(-2),_=new Date("".concat(i,"-").concat(p||"01","-").concat(h||"01"));return o&&c?_.getUTCFullYear()===i&&_.getUTCMonth()+1===o&&_.getUTCDate()===c:!0};function xs(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,ms.default)(t);var e=r.strictSeparator?_s.test(t):ys.test(t);return e&&r.strict?vs(t):e}xt.exports=Ae.default;xt.exports.default=Ae.default});var sr=V((Se,bt)=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.default=ws;var bs=ks(W());function ks(t){return t&&t.__esModule?t:{default:t}}var rr={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,6:/^[0-9A-F]{8}-[0-9A-F]{4}-6[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,8:/^[0-9A-F]{8}-[0-9A-F]{4}-8[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,nil:/^00000000-0000-0000-0000-000000000000$/i,max:/^ffffffff-ffff-ffff-ffff-ffffffffffff$/i,loose:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,all:/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i};function ws(t,r){return(0,bs.default)(t),r==null&&(r="all"),r in rr?rr[r].test(t):!1}bt.exports=Se.default;bt.exports.default=Se.default});var nr=V((Me,wt)=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.default=Is;var Ms=Ts(W());function Ts(t){return t&&t.__esModule?t:{default:t}}function kt(t){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kt(t)}function Is(t,r){(0,Ms.default)(t);var e,s;kt(r)==="object"?(e=r.min||0,s=r.max):(e=arguments[1]||0,s=arguments[2]);var a=t.match(/(\uFE0F|\uFE0E)/g)||[],n=t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],i=t.length-a.length-n.length,o=i>=e&&(typeof s>"u"||i<=s);return o&&Array.isArray(r?.discreteLengths)?r.discreteLengths.some(function(c){return c===i}):o}wt.exports=Me.default;wt.exports.default=Me.default});var Cr=me(Or());var $=class{constructor(r){this.groups=[],this.each=!1,this.context=void 0,this.type=r.type,this.name=r.name,this.target=r.target,this.propertyName=r.propertyName,this.constraints=r?.constraints,this.constraintCls=r.constraintCls,this.validationTypeOptions=r.validationTypeOptions,r.validationOptions&&(this.message=r.validationOptions.message,this.groups=r.validationOptions.groups,this.always=r.validationOptions.always,this.each=r.validationOptions.each,this.context=r.validationOptions.context)}};var Ze=class{transform(r){let e=[];return Object.keys(r.properties).forEach(s=>{r.properties[s].forEach(a=>{let n={message:a.message,groups:a.groups,always:a.always,each:a.each},i={type:a.type,name:a.name,target:r.name,propertyName:s,constraints:a.constraints,validationTypeOptions:a.options,validationOptions:n};e.push(new $(i))})}),e}};function jt(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}var ge=class{constructor(){this.validationMetadatas=new Map,this.constraintMetadatas=new Map}get hasValidationMetaData(){return!!this.validationMetadatas.size}addValidationSchema(r){new Ze().transform(r).forEach(s=>this.addValidationMetadata(s))}addValidationMetadata(r){let e=this.validationMetadatas.get(r.target);e?e.push(r):this.validationMetadatas.set(r.target,[r])}addConstraintMetadata(r){let e=this.constraintMetadatas.get(r.target);e?e.push(r):this.constraintMetadatas.set(r.target,[r])}groupByPropertyName(r){let e={};return r.forEach(s=>{e[s.propertyName]||(e[s.propertyName]=[]),e[s.propertyName].push(s)}),e}getTargetValidationMetadatas(r,e,s,a,n){let i=w=>typeof w.always<"u"?w.always:w.groups&&w.groups.length?!1:s,o=w=>!!(a&&(!n||!n.length)&&w.groups&&w.groups.length),p=(this.validationMetadatas.get(r)||[]).filter(w=>w.target!==r&&w.target!==e?!1:i(w)?!0:o(w)?!1:n&&n.length>0?w.groups&&!!w.groups.find(R=>n.indexOf(R)!==-1):!0),h=[];for(let[w,R]of this.validationMetadatas.entries())r.prototype instanceof w&&h.push(...R);let Z=h.filter(w=>typeof w.target=="string"||w.target===r||w.target instanceof Function&&!(r.prototype instanceof w.target)?!1:i(w)?!0:o(w)?!1:n&&n.length>0?w.groups&&!!w.groups.find(R=>n.indexOf(R)!==-1):!0).filter(w=>!p.find(R=>R.propertyName===w.propertyName&&R.type===w.type));return p.concat(Z)}getTargetValidatorConstraints(r){return this.constraintMetadatas.get(r)||[]}};function j(){let t=jt();return t.classValidatorMetadataStorage||(t.classValidatorMetadataStorage=new ge),t.classValidatorMetadataStorage}var X=(()=>{class t{static isValid(e){return e!=="isValid"&&e!=="getMessage"&&Object.keys(this).map(s=>this[s]).indexOf(e)!==-1}}return t.CUSTOM_VALIDATION="customValidation",t.NESTED_VALIDATION="nestedValidation",t.PROMISE_VALIDATION="promiseValidation",t.CONDITIONAL_VALIDATION="conditionalValidation",t.WHITELIST="whitelistValidation",t.IS_DEFINED="isDefined",t})();var Nr=new class{constructor(){this.instances=[]}get(t){let r=this.instances.find(e=>e.type===t);return r||(r={type:t,object:new t},this.instances.push(r)),r.object}},Dt,Ve;function $e(t){if(Dt)try{let r=Dt.get(t);if(r||!Ve||!Ve.fallback)return r}catch(r){if(!Ve||!Ve.fallbackOnErrors)throw r}return Nr.get(t)}var re=class{constructor(r,e,s=!1){this.target=r,this.name=e,this.async=s}get instance(){return $e(this.target)}};function je(t){let r;if(t.validator instanceof Function){if(r=t.validator,$e(ge).getTargetValidatorConstraints(t.validator).length>1)throw`More than one implementation of ValidatorConstraintInterface found for validator on: ${t.target.name}:${t.propertyName}`}else{let s=t.validator;r=class{validate(n,i){return s.validate(n,i)}defaultMessage(n){return s.defaultMessage?s.defaultMessage(n):""}},j().addConstraintMetadata(new re(r,t.name,t.async))}let e={type:t.name&&X.isValid(t.name)?t.name:X.CUSTOM_VALIDATION,name:t.name,target:t.target,propertyName:t.propertyName,validationOptions:t.options,constraintCls:r,constraints:t.constraints};j().addValidationMetadata(new $(e))}function S(t,r){return e=>{let s=r&&r.each?"each value in ":"";return t(s,e)}}function M(t,r){return function(e,s){je({name:t.name,target:e.constructor,propertyName:s,options:r,constraints:t.constraints,validator:t.validator})}}var Rr="isOptional";function z(t){return function(r,e){let s={type:X.CONDITIONAL_VALIDATION,name:Rr,target:r.constructor,propertyName:e,constraints:[(a,n)=>a[e]!==null&&a[e]!==void 0],validationOptions:t};j().addValidationMetadata(new $(s))}}function Lt(t){return function(r){let e=t&&t.async,s=t&&t.name?t.name:"";s||(s=r.name,s||(s=s.replace(/\.?([A-Z]+)/g,(n,i)=>"_"+i.toLowerCase()).replace(/^_/,"")));let a=new re(r,s,e);j().addConstraintMetadata(a)}}function K(t){let r=u({},t),e=r.each?"each value in ":"";return r.message=r.message||e+"nested property $property must be either object or array",function(s,a){let n={type:X.NESTED_VALIDATION,target:s.constructor,propertyName:a,validationOptions:r};j().addValidationMetadata(new $(n))}}var Er="isNotEmpty";function zr(t){return t!==""&&t!==null&&t!==void 0}function F(t){return M({name:Er,validator:{validate:(r,e)=>zr(r),defaultMessage:S(r=>r+"$property should not be empty",t)}},t)}var Fr="max";function qr(t,r){return typeof t=="number"&&typeof r=="number"&&t<=r}function it(t,r){return M({name:Fr,constraints:[t],validator:{validate:(e,s)=>qr(e,s?.constraints[0]),defaultMessage:S(e=>e+"$property must not be greater than $constraint1",r)}},r)}var Zr="min";function Vr(t,r){return typeof t=="number"&&typeof r=="number"&&t>=r}function De(t,r){return M({name:Zr,constraints:[t],validator:{validate:(e,s)=>Vr(e,s?.constraints[0]),defaultMessage:S(e=>e+"$property must not be less than $constraint1",r)}},r)}var Xt=me(Yt()),ps="isEmail";function hs(t,r){return typeof t=="string"&&(0,Xt.default)(t,r)}function vt(t,r){return M({name:ps,constraints:[t],validator:{validate:(e,s)=>hs(e,s?.constraints[0]),defaultMessage:S(e=>e+"$property must be an email",r)}},r)}var er=me(Kt());function tr(t,r){return typeof t=="string"&&(0,er.default)(t,r)}var ar=me(sr()),As="isUuid";function Ss(t,r){return typeof t=="string"&&(0,ar.default)(t,r)}function G(t,r){return M({name:As,constraints:[t],validator:{validate:(e,s)=>Ss(e,s?.constraints[0]),defaultMessage:S(e=>e+"$property must be a UUID",r)}},r)}var ir=me(nr()),Cs="isLength";function Os(t,r,e){return typeof t=="string"&&(0,ir.default)(t,{min:r,max:e})}function or(t,r,e){return M({name:Cs,constraints:[t,r],validator:{validate:(s,a)=>Os(s,a?.constraints[0],a?.constraints[1]),defaultMessage:S((s,a)=>{let n=a?.constraints[0]!==null&&a?.constraints[0]!==void 0,i=a?.constraints[1]!==null&&a?.constraints[1]!==void 0;return n&&(!a.value||a.value.length<a?.constraints[0])?s+"$property must be longer than or equal to $constraint1 characters":i&&a.value.length>a?.constraints[1]?s+"$property must be shorter than or equal to $constraint2 characters":s+"$property must be longer than or equal to $constraint1 and shorter than or equal to $constraint2 characters"},e)}},e)}var Ns="isDateString";function Rs(t,r){return tr(t,r)}function At(t,r){return M({name:Ns,constraints:[t],validator:{validate:e=>Rs(e,t),defaultMessage:S(e=>e+"$property must be a valid ISO 8601 date string",r)}},r)}var Es="isBoolean";function zs(t){return t instanceof Boolean||typeof t=="boolean"}function Le(t){return M({name:Es,validator:{validate:(r,e)=>zs(r),defaultMessage:S(r=>r+"$property must be a boolean value",t)}},t)}var Fs="isNumber";function qs(t,r={}){if(typeof t!="number")return!1;if(t===1/0||t===-1/0)return!!r.allowInfinity;if(Number.isNaN(t))return!!r.allowNaN;if(r.maxDecimalPlaces!==void 0){let e=0;if(t%1!==0&&(e=t.toString().split(".")[1].length),e>r.maxDecimalPlaces)return!1}return Number.isFinite(t)}function Pe(t={},r){return M({name:Fs,constraints:[t],validator:{validate:(e,s)=>qs(e,s?.constraints[0]),defaultMessage:S(e=>e+"$property must be a number conforming to the specified constraints",r)}},r)}var Zs="isEnum";function Vs(t,r){return Object.keys(r).map(s=>r[s]).includes(t)}function $s(t){return Object.entries(t).filter(([r,e])=>isNaN(parseInt(r))).map(([r,e])=>e)}function ur(t,r){return M({name:Zs,constraints:[t,$s(t)],validator:{validate:(e,s)=>Vs(e,s?.constraints[0]),defaultMessage:S(e=>e+"$property must be one of the following values: $constraint2",r)}},r)}var js="isString";function Ds(t){return t instanceof String||typeof t=="string"}function O(t){return M({name:js,validator:{validate:(r,e)=>Ds(r),defaultMessage:S(r=>r+"$property must be a string",t)}},t)}var Ls="isArray";function Ps(t){return Array.isArray(t)}function ae(t){return M({name:Ls,validator:{validate:(r,e)=>Ps(r),defaultMessage:S(r=>r+"$property must be an array",t)}},t)}var Te=class{validate(r){if(!r)return!1;let e=r.toLowerCase().trim();return e.endsWith("@gmail.com")||e.endsWith("@googlemail.com")}defaultMessage(){return"Only Gmail accounts (@gmail.com) are allowed for registration"}};Te=b([Lt({async:!1})],Te);function cr(t){return function(r,e){je({target:r.constructor,propertyName:e,options:t,constraints:[],validator:Te})}}var Be=class{email};b([vt(),F(),cr()],Be.prototype,"email",2);var Ie=class{email;code};b([vt(),F()],Ie.prototype,"email",2),b([O(),or(6,6)],Ie.prototype,"code",2);var Qe=class{refreshToken};b([O(),F()],Qe.prototype,"refreshToken",2);var q=function(t){return t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",t}(q||{});var Ue=class{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(r){this._typeMetadatas.has(r.target)||this._typeMetadatas.set(r.target,new Map),this._typeMetadatas.get(r.target).set(r.propertyName,r)}addTransformMetadata(r){this._transformMetadatas.has(r.target)||this._transformMetadatas.set(r.target,new Map),this._transformMetadatas.get(r.target).has(r.propertyName)||this._transformMetadatas.get(r.target).set(r.propertyName,[]),this._transformMetadatas.get(r.target).get(r.propertyName).push(r)}addExposeMetadata(r){this._exposeMetadatas.has(r.target)||this._exposeMetadatas.set(r.target,new Map),this._exposeMetadatas.get(r.target).set(r.propertyName,r)}addExcludeMetadata(r){this._excludeMetadatas.has(r.target)||this._excludeMetadatas.set(r.target,new Map),this._excludeMetadatas.get(r.target).set(r.propertyName,r)}findTransformMetadatas(r,e,s){return this.findMetadatas(this._transformMetadatas,r,e).filter(a=>!a.options||a.options.toClassOnly===!0&&a.options.toPlainOnly===!0?!0:a.options.toClassOnly===!0?s===q.CLASS_TO_CLASS||s===q.PLAIN_TO_CLASS:a.options.toPlainOnly===!0?s===q.CLASS_TO_PLAIN:!0)}findExcludeMetadata(r,e){return this.findMetadata(this._excludeMetadatas,r,e)}findExposeMetadata(r,e){return this.findMetadata(this._exposeMetadatas,r,e)}findExposeMetadataByCustomName(r,e){return this.getExposedMetadatas(r).find(s=>s.options&&s.options.name===e)}findTypeMetadata(r,e){return this.findMetadata(this._typeMetadatas,r,e)}getStrategy(r){let e=this._excludeMetadatas.get(r),s=e&&e.get(void 0),a=this._exposeMetadatas.get(r),n=a&&a.get(void 0);return s&&n||!s&&!n?"none":s?"excludeAll":"exposeAll"}getExposedMetadatas(r){return this.getMetadata(this._exposeMetadatas,r)}getExcludedMetadatas(r){return this.getMetadata(this._excludeMetadatas,r)}getExposedProperties(r,e){return this.getExposedMetadatas(r).filter(s=>!s.options||s.options.toClassOnly===!0&&s.options.toPlainOnly===!0?!0:s.options.toClassOnly===!0?e===q.CLASS_TO_CLASS||e===q.PLAIN_TO_CLASS:s.options.toPlainOnly===!0?e===q.CLASS_TO_PLAIN:!0).map(s=>s.propertyName)}getExcludedProperties(r,e){return this.getExcludedMetadatas(r).filter(s=>!s.options||s.options.toClassOnly===!0&&s.options.toPlainOnly===!0?!0:s.options.toClassOnly===!0?e===q.CLASS_TO_CLASS||e===q.PLAIN_TO_CLASS:s.options.toPlainOnly===!0?e===q.CLASS_TO_PLAIN:!0).map(s=>s.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(r,e){let s=r.get(e),a;s&&(a=Array.from(s.values()).filter(i=>i.propertyName!==void 0));let n=[];for(let i of this.getAncestors(e)){let o=r.get(i);if(o){let c=Array.from(o.values()).filter(p=>p.propertyName!==void 0);n.push(...c)}}return n.concat(a||[])}findMetadata(r,e,s){let a=r.get(e);if(a){let n=a.get(s);if(n)return n}for(let n of this.getAncestors(e)){let i=r.get(n);if(i){let o=i.get(s);if(o)return o}}}findMetadatas(r,e,s){let a=r.get(e),n;a&&(n=a.get(s));let i=[];for(let o of this.getAncestors(e)){let c=r.get(o);c&&c.has(s)&&i.push(...c.get(s))}return i.slice().reverse().concat((n||[]).slice().reverse())}getAncestors(r){if(!r)return[];if(!this._ancestorsMap.has(r)){let e=[];for(let s=Object.getPrototypeOf(r.prototype.constructor);typeof s.prototype<"u";s=Object.getPrototypeOf(s.prototype.constructor))e.push(s);this._ancestorsMap.set(r,e)}return this._ancestorsMap.get(r)}};var dr=new Ue;function D(t,r={}){return function(e,s){let a=Reflect.getMetadata("design:type",e,s);dr.addTypeMetadata({target:e.constructor,propertyName:s,reflectedType:a,typeFunction:t,options:r})}}var oe=class{text;correct};b([O(),F()],oe.prototype,"text",2),b([Le(),z()],oe.prototype,"correct",2);var ue=class{question;answers};b([O(),F()],ue.prototype,"question",2),b([ae(),K({each:!0}),D(()=>oe)],ue.prototype,"answers",2);var We=class{name};b([O(),z()],We.prototype,"name",2);var He=class{name};b([O(),F()],He.prototype,"name",2);var Ge=class{questions};b([K({each:!0}),D(()=>ue)],Ge.prototype,"questions",2);var Je=class{correctAnswerId};b([G()],Je.prototype,"correctAnswerId",2);var L=class{id;name;createdAt;editedAt;isDeleted;questions};b([G()],L.prototype,"id",2),b([O(),F()],L.prototype,"name",2),b([O()],L.prototype,"createdAt",2),b([O(),z()],L.prototype,"editedAt",2),b([Le(),z()],L.prototype,"isDeleted",2),b([ae(),K({each:!0}),D(()=>ie)],L.prototype,"questions",2);var ne=class{id;text;correct};b([O()],ne.prototype,"id",2),b([O(),F()],ne.prototype,"text",2),b([Le(),z()],ne.prototype,"correct",2);var ie=class{id;question;answers};b([O()],ie.prototype,"id",2),b([O(),F()],ie.prototype,"question",2),b([ae(),K({each:!0}),D(()=>ne)],ie.prototype,"answers",2);var A;(function(t){t.assertEqual=a=>{};function r(a){}t.assertIs=r;function e(a){throw new Error}t.assertNever=e,t.arrayToEnum=a=>{let n={};for(let i of a)n[i]=i;return n},t.getValidEnumValues=a=>{let n=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(let o of n)i[o]=a[o];return t.objectValues(i)},t.objectValues=a=>t.objectKeys(a).map(function(n){return a[n]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let n=[];for(let i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.push(i);return n},t.find=(a,n)=>{for(let i of a)if(n(i))return i},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,n=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(n)}t.joinValues=s,t.jsonStringifyReplacer=(a,n)=>typeof n=="bigint"?n.toString():n})(A||(A={}));var f=A.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),P=t=>{switch(typeof t){case"undefined":return f.undefined;case"string":return f.string;case"number":return Number.isNaN(t)?f.nan:f.number;case"boolean":return f.boolean;case"function":return f.function;case"bigint":return f.bigint;case"symbol":return f.symbol;case"object":return Array.isArray(t)?f.array:t===null?f.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?f.promise:typeof Map<"u"&&t instanceof Map?f.map:typeof Set<"u"&&t instanceof Set?f.set:typeof Date<"u"&&t instanceof Date?f.date:f.object;default:return f.unknown}};var d=A.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var B=(()=>{class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){let s=e||function(i){return i.message},a={_errors:[]},n=i=>{for(let o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(s(o));else{let c=a,p=0;for(;p<o.path.length;){let h=o.path[p];p===o.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(s(o))):c[h]=c[h]||{_errors:[]},c=c[h],p++}}};return n(this),a}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,A.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){let s={},a=[];for(let n of this.issues)if(n.path.length>0){let i=n.path[0];s[i]=s[i]||[],s[i].push(e(n))}else a.push(e(n));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}return t.create=r=>new t(r),t})();var Bs=(t,r)=>{let e;switch(t.code){case d.invalid_type:t.received===f.undefined?e="Required":e=`Expected ${t.expected}, received ${t.received}`;break;case d.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(t.expected,A.jsonStringifyReplacer)}`;break;case d.unrecognized_keys:e=`Unrecognized key(s) in object: ${A.joinValues(t.keys,", ")}`;break;case d.invalid_union:e="Invalid input";break;case d.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${A.joinValues(t.options)}`;break;case d.invalid_enum_value:e=`Invalid enum value. Expected ${A.joinValues(t.options)}, received '${t.received}'`;break;case d.invalid_arguments:e="Invalid function arguments";break;case d.invalid_return_type:e="Invalid function return type";break;case d.invalid_date:e="Invalid date";break;case d.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(e=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?e=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?e=`Invalid input: must end with "${t.validation.endsWith}"`:A.assertNever(t.validation):t.validation!=="regex"?e=`Invalid ${t.validation}`:e="Invalid";break;case d.too_small:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?e=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:e="Invalid input";break;case d.too_big:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?e=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:e="Invalid input";break;case d.custom:e="Invalid input";break;case d.invalid_intersection_types:e="Intersection results could not be merged";break;case d.not_multiple_of:e=`Number must be a multiple of ${t.multipleOf}`;break;case d.not_finite:e="Number must be finite";break;default:e=r.defaultError,A.assertNever(t)}return{message:e}},J=Bs;var Qs=J;function Ce(){return Qs}var Ye=t=>{let{data:r,path:e,errorMaps:s,issueData:a}=t,n=[...e,...a.path||[]],i=v(u({},a),{path:n});if(a.message!==void 0)return v(u({},a),{path:n,message:a.message});let o="",c=s.filter(p=>!!p).slice().reverse();for(let p of c)o=p(i,{data:r,defaultError:o}).message;return v(u({},a),{path:n,message:o})};function l(t,r){let e=Ce(),s=Ye({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e,e===J?void 0:J].filter(a=>!!a)});t.common.issues.push(s)}var C=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,e){let s=[];for(let a of e){if(a.status==="aborted")return g;a.status==="dirty"&&r.dirty(),s.push(a.value)}return{status:r.value,value:s}}static mergeObjectAsync(r,e){return I(this,null,function*(){let s=[];for(let a of e){let n=yield a.key,i=yield a.value;s.push({key:n,value:i})}return t.mergeObjectSync(r,s)})}static mergeObjectSync(r,e){let s={};for(let a of e){let{key:n,value:i}=a;if(n.status==="aborted"||i.status==="aborted")return g;n.status==="dirty"&&r.dirty(),i.status==="dirty"&&r.dirty(),n.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(s[n.value]=i.value)}return{status:r.value,value:s}}},g=Object.freeze({status:"aborted"}),ce=t=>({status:"dirty",value:t}),N=t=>({status:"valid",value:t}),St=t=>t.status==="aborted",Mt=t=>t.status==="dirty",ee=t=>t.status==="valid",Oe=t=>typeof Promise<"u"&&t instanceof Promise;var m=function(t){return t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r?.message,t}(m||{});var E=class{constructor(r,e,s,a){this._cachedPath=[],this.parent=r,this.data=e,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},lr=(t,r)=>{if(ee(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let e=new B(t.common.issues);return this._error=e,this._error}}};function x(t){if(!t)return{};let{errorMap:r,invalid_type_error:e,required_error:s,description:a}=t;if(r&&(e||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:a}:{errorMap:(i,o)=>{let{message:c}=t;return i.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??s??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:c??e??o.defaultError}},description:a}}var k=class{get description(){return this._def.description}_getType(r){return P(r.data)}_getOrReturnCtx(r,e){return e||{common:r.parent.common,data:r.data,parsedType:P(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new C,ctx:{common:r.parent.common,data:r.data,parsedType:P(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){let e=this._parse(r);if(Oe(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(r){let e=this._parse(r);return Promise.resolve(e)}parse(r,e){let s=this.safeParse(r,e);if(s.success)return s.data;throw s.error}safeParse(r,e){let s={common:{issues:[],async:e?.async??!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:P(r)},a=this._parseSync({data:r,path:s.path,parent:s});return lr(s,a)}"~validate"(r){let e={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:P(r)};if(!this["~standard"].async)try{let s=this._parseSync({data:r,path:[],parent:e});return ee(s)?{value:s.value}:{issues:e.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),e.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:e}).then(s=>ee(s)?{value:s.value}:{issues:e.common.issues})}parseAsync(r,e){return I(this,null,function*(){let s=yield this.safeParseAsync(r,e);if(s.success)return s.data;throw s.error})}safeParseAsync(r,e){return I(this,null,function*(){let s={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:P(r)},a=this._parse({data:r,path:s.path,parent:s}),n=yield Oe(a)?a:Promise.resolve(a);return lr(s,n)})}refine(r,e){let s=a=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(a):e;return this._refinement((a,n)=>{let i=r(a),o=()=>n.addIssue(u({code:d.custom},s(a)));return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(r,e){return this._refinement((s,a)=>r(s)?!0:(a.addIssue(typeof e=="function"?e(s,a):e),!1))}_refinement(r){return new Ee({schema:this,typeName:y.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return te.create(this,this._def)}nullable(){return ze.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ke.create(this)}promise(){return Et.create(this,this._def)}or(r){return yr.create([this,r],this._def)}and(r){return _r.create(this,r,this._def)}transform(r){return new Ee(v(u({},x(this._def)),{schema:this,typeName:y.ZodEffects,effect:{type:"transform",transform:r}}))}default(r){let e=typeof r=="function"?r:()=>r;return new wr(v(u({},x(this._def)),{innerType:this,defaultValue:e,typeName:y.ZodDefault}))}brand(){return new et(u({typeName:y.ZodBranded,type:this},x(this._def)))}catch(r){let e=typeof r=="function"?r:()=>r;return new Ar(v(u({},x(this._def)),{innerType:this,catchValue:e,typeName:y.ZodCatch}))}describe(r){let e=this.constructor;return new e(v(u({},this._def),{description:r}))}pipe(r){return tt.create(this,r)}readonly(){return Sr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Us=/^c[^\s-]{8,}$/i,Ws=/^[0-9a-z]+$/,Hs=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Gs=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Js=/^[a-z0-9_-]{21}$/i,Ys=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ks=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ea="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Tt,ta=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ra=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sa=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aa=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,na=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ia=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oa=new RegExp(`^${fr}$`);function pr(t){let r="[0-5]\\d";t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`);let e=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${e}`}function ua(t){return new RegExp(`^${pr(t)}$`)}function ca(t){let r=`${fr}T${pr(t)}`,e=[];return e.push(t.local?"Z?":"Z"),t.offset&&e.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${e.join("|")})`,new RegExp(`^${r}$`)}function da(t,r){return!!((r==="v4"||!r)&&ta.test(t)||(r==="v6"||!r)&&sa.test(t))}function la(t,r){if(!Ys.test(t))return!1;try{let[e]=t.split(".");if(!e)return!1;let s=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||r&&a.alg!==r)}catch{return!1}}function fa(t,r){return!!((r==="v4"||!r)&&ra.test(t)||(r==="v6"||!r)&&aa.test(t))}var hr=(()=>{class t extends k{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==f.string){let i=this._getOrReturnCtx(e);return l(i,{code:d.invalid_type,expected:f.string,received:i.parsedType}),g}let a=new C,n;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),l(n,{code:d.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),l(n,{code:d.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){let o=e.data.length>i.value,c=e.data.length<i.value;(o||c)&&(n=this._getOrReturnCtx(e,n),o?l(n,{code:d.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&l(n,{code:d.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")Ks.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"email",code:d.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")Tt||(Tt=new RegExp(ea,"u")),Tt.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"emoji",code:d.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")Gs.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"uuid",code:d.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")Js.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"nanoid",code:d.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")Us.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"cuid",code:d.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")Ws.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"cuid2",code:d.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")Hs.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"ulid",code:d.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),l(n,{validation:"url",code:d.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"regex",code:d.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),l(n,{code:d.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),l(n,{code:d.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),l(n,{code:d.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?ca(i).test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{code:d.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?oa.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{code:d.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?ua(i).test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{code:d.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?Xs.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"duration",code:d.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?da(e.data,i.version)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"ip",code:d.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?la(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"jwt",code:d.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?fa(e.data,i.version)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"cidr",code:d.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?na.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"base64",code:d.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?ia.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"base64url",code:d.invalid_string,message:i.message}),a.dirty()):A.assertNever(i);return{status:a.value,value:e.data}}_regex(e,s,a){return this.refinement(n=>e.test(n),u({validation:s,code:d.invalid_string},m.errToObj(a)))}_addCheck(e){return new t(v(u({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(u({kind:"email"},m.errToObj(e)))}url(e){return this._addCheck(u({kind:"url"},m.errToObj(e)))}emoji(e){return this._addCheck(u({kind:"emoji"},m.errToObj(e)))}uuid(e){return this._addCheck(u({kind:"uuid"},m.errToObj(e)))}nanoid(e){return this._addCheck(u({kind:"nanoid"},m.errToObj(e)))}cuid(e){return this._addCheck(u({kind:"cuid"},m.errToObj(e)))}cuid2(e){return this._addCheck(u({kind:"cuid2"},m.errToObj(e)))}ulid(e){return this._addCheck(u({kind:"ulid"},m.errToObj(e)))}base64(e){return this._addCheck(u({kind:"base64"},m.errToObj(e)))}base64url(e){return this._addCheck(u({kind:"base64url"},m.errToObj(e)))}jwt(e){return this._addCheck(u({kind:"jwt"},m.errToObj(e)))}ip(e){return this._addCheck(u({kind:"ip"},m.errToObj(e)))}cidr(e){return this._addCheck(u({kind:"cidr"},m.errToObj(e)))}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(u({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1},m.errToObj(e?.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(u({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision},m.errToObj(e?.message)))}duration(e){return this._addCheck(u({kind:"duration"},m.errToObj(e)))}regex(e,s){return this._addCheck(u({kind:"regex",regex:e},m.errToObj(s)))}includes(e,s){return this._addCheck(u({kind:"includes",value:e,position:s?.position},m.errToObj(s?.message)))}startsWith(e,s){return this._addCheck(u({kind:"startsWith",value:e},m.errToObj(s)))}endsWith(e,s){return this._addCheck(u({kind:"endsWith",value:e},m.errToObj(s)))}min(e,s){return this._addCheck(u({kind:"min",value:e},m.errToObj(s)))}max(e,s){return this._addCheck(u({kind:"max",value:e},m.errToObj(s)))}length(e,s){return this._addCheck(u({kind:"length",value:e},m.errToObj(s)))}nonempty(e){return this.min(1,m.errToObj(e))}trim(){return new t(v(u({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new t(v(u({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new t(v(u({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(let s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}return t.create=r=>new t(u({checks:[],typeName:y.ZodString,coerce:r?.coerce??!1},x(r))),t})();function pa(t,r){let e=(t.toString().split(".")[1]||"").length,s=(r.toString().split(".")[1]||"").length,a=e>s?e:s,n=Number.parseInt(t.toFixed(a).replace(".","")),i=Number.parseInt(r.toFixed(a).replace(".",""));return n%i/10**a}var ha=(()=>{class t extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==f.number){let i=this._getOrReturnCtx(e);return l(i,{code:d.invalid_type,expected:f.number,received:i.parsedType}),g}let a,n=new C;for(let i of this._def.checks)i.kind==="int"?A.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),l(a,{code:d.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),l(a,{code:d.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),l(a,{code:d.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?pa(e.data,i.value)!==0&&(a=this._getOrReturnCtx(e,a),l(a,{code:d.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),l(a,{code:d.not_finite,message:i.message}),n.dirty()):A.assertNever(i);return{status:n.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,m.toString(s))}gt(e,s){return this.setLimit("min",e,!1,m.toString(s))}lte(e,s){return this.setLimit("max",e,!0,m.toString(s))}lt(e,s){return this.setLimit("max",e,!1,m.toString(s))}setLimit(e,s,a,n){return new t(v(u({},this._def),{checks:[...this._def.checks,{kind:e,value:s,inclusive:a,message:m.toString(n)}]}))}_addCheck(e){return new t(v(u({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:m.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:m.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:m.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:m.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:m.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:m.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:m.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:m.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:m.toString(e)})}get minValue(){let e=null;for(let s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(let s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&A.isInteger(e.value))}get isFinite(){let e=null,s=null;for(let a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(s===null||a.value>s)&&(s=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(s)&&Number.isFinite(e)}}return t.create=r=>new t(u({checks:[],typeName:y.ZodNumber,coerce:r?.coerce||!1},x(r))),t})(),ma=(()=>{class t extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==f.bigint)return this._getInvalidInput(e);let a,n=new C;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),l(a,{code:d.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),l(a,{code:d.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),l(a,{code:d.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):A.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){let s=this._getOrReturnCtx(e);return l(s,{code:d.invalid_type,expected:f.bigint,received:s.parsedType}),g}gte(e,s){return this.setLimit("min",e,!0,m.toString(s))}gt(e,s){return this.setLimit("min",e,!1,m.toString(s))}lte(e,s){return this.setLimit("max",e,!0,m.toString(s))}lt(e,s){return this.setLimit("max",e,!1,m.toString(s))}setLimit(e,s,a,n){return new t(v(u({},this._def),{checks:[...this._def.checks,{kind:e,value:s,inclusive:a,message:m.toString(n)}]}))}_addCheck(e){return new t(v(u({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:m.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:m.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:m.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:m.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:m.toString(s)})}get minValue(){let e=null;for(let s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(let s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}return t.create=r=>new t(u({checks:[],typeName:y.ZodBigInt,coerce:r?.coerce??!1},x(r))),t})(),ga=(()=>{class t extends k{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==f.boolean){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_type,expected:f.boolean,received:a.parsedType}),g}return N(e.data)}}return t.create=r=>new t(u({typeName:y.ZodBoolean,coerce:r?.coerce||!1},x(r))),t})(),ya=(()=>{class t extends k{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==f.date){let i=this._getOrReturnCtx(e);return l(i,{code:d.invalid_type,expected:f.date,received:i.parsedType}),g}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return l(i,{code:d.invalid_date}),g}let a=new C,n;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),l(n,{code:d.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),l(n,{code:d.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):A.assertNever(i);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t(v(u({},this._def),{checks:[...this._def.checks,e]}))}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:m.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:m.toString(s)})}get minDate(){let e=null;for(let s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}return t.create=r=>new t(u({checks:[],coerce:r?.coerce||!1,typeName:y.ZodDate},x(r))),t})(),_a=(()=>{class t extends k{_parse(e){if(this._getType(e)!==f.symbol){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_type,expected:f.symbol,received:a.parsedType}),g}return N(e.data)}}return t.create=r=>new t(u({typeName:y.ZodSymbol},x(r))),t})(),mr=(()=>{class t extends k{_parse(e){if(this._getType(e)!==f.undefined){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_type,expected:f.undefined,received:a.parsedType}),g}return N(e.data)}}return t.create=r=>new t(u({typeName:y.ZodUndefined},x(r))),t})(),gr=(()=>{class t extends k{_parse(e){if(this._getType(e)!==f.null){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_type,expected:f.null,received:a.parsedType}),g}return N(e.data)}}return t.create=r=>new t(u({typeName:y.ZodNull},x(r))),t})(),va=(()=>{class t extends k{constructor(){super(...arguments),this._any=!0}_parse(e){return N(e.data)}}return t.create=r=>new t(u({typeName:y.ZodAny},x(r))),t})(),Xe=(()=>{class t extends k{constructor(){super(...arguments),this._unknown=!0}_parse(e){return N(e.data)}}return t.create=r=>new t(u({typeName:y.ZodUnknown},x(r))),t})(),de=(()=>{class t extends k{_parse(e){let s=this._getOrReturnCtx(e);return l(s,{code:d.invalid_type,expected:f.never,received:s.parsedType}),g}}return t.create=r=>new t(u({typeName:y.ZodNever},x(r))),t})(),xa=(()=>{class t extends k{_parse(e){if(this._getType(e)!==f.undefined){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_type,expected:f.void,received:a.parsedType}),g}return N(e.data)}}return t.create=r=>new t(u({typeName:y.ZodVoid},x(r))),t})(),Ke=(()=>{class t extends k{_parse(e){let{ctx:s,status:a}=this._processInputParams(e),n=this._def;if(s.parsedType!==f.array)return l(s,{code:d.invalid_type,expected:f.array,received:s.parsedType}),g;if(n.exactLength!==null){let o=s.data.length>n.exactLength.value,c=s.data.length<n.exactLength.value;(o||c)&&(l(s,{code:o?d.too_big:d.too_small,minimum:c?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(l(s,{code:d.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(l(s,{code:d.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((o,c)=>n.type._parseAsync(new E(s,o,s.path,c)))).then(o=>C.mergeArray(a,o));let i=[...s.data].map((o,c)=>n.type._parseSync(new E(s,o,s.path,c)));return C.mergeArray(a,i)}get element(){return this._def.type}min(e,s){return new t(v(u({},this._def),{minLength:{value:e,message:m.toString(s)}}))}max(e,s){return new t(v(u({},this._def),{maxLength:{value:e,message:m.toString(s)}}))}length(e,s){return new t(v(u({},this._def),{exactLength:{value:e,message:m.toString(s)}}))}nonempty(e){return this.min(1,e)}}return t.create=(r,e)=>new t(u({type:r,minLength:null,maxLength:null,exactLength:null,typeName:y.ZodArray},x(e))),t})();function le(t){if(t instanceof Ne){let r={};for(let e in t.shape){let s=t.shape[e];r[e]=te.create(le(s))}return new Ne(v(u({},t._def),{shape:()=>r}))}else return t instanceof Ke?new Ke(v(u({},t._def),{type:le(t.element)})):t instanceof te?te.create(le(t.unwrap())):t instanceof ze?ze.create(le(t.unwrap())):t instanceof Re?Re.create(t.items.map(r=>le(r))):t}var Ne=(()=>{class t extends k{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),s=A.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==f.object){let h=this._getOrReturnCtx(e);return l(h,{code:d.invalid_type,expected:f.object,received:h.parsedType}),g}let{status:a,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof de&&this._def.unknownKeys==="strip"))for(let h in n.data)o.includes(h)||c.push(h);let p=[];for(let h of o){let _=i[h],Z=n.data[h];p.push({key:{status:"valid",value:h},value:_._parse(new E(n,Z,n.path,h)),alwaysSet:h in n.data})}if(this._def.catchall instanceof de){let h=this._def.unknownKeys;if(h==="passthrough")for(let _ of c)p.push({key:{status:"valid",value:_},value:{status:"valid",value:n.data[_]}});else if(h==="strict")c.length>0&&(l(n,{code:d.unrecognized_keys,keys:c}),a.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let h=this._def.catchall;for(let _ of c){let Z=n.data[_];p.push({key:{status:"valid",value:_},value:h._parse(new E(n,Z,n.path,_)),alwaysSet:_ in n.data})}}return n.common.async?Promise.resolve().then(()=>I(this,null,function*(){let h=[];for(let _ of p){let Z=yield _.key,w=yield _.value;h.push({key:Z,value:w,alwaysSet:_.alwaysSet})}return h})).then(h=>C.mergeObjectSync(a,h)):C.mergeObjectSync(a,p)}get shape(){return this._def.shape()}strict(e){return m.errToObj,new t(u(v(u({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(s,a)=>{let n=this._def.errorMap?.(s,a).message??a.defaultError;return s.code==="unrecognized_keys"?{message:m.errToObj(e).message??n}:{message:n}}}:{}))}strip(){return new t(v(u({},this._def),{unknownKeys:"strip"}))}passthrough(){return new t(v(u({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new t(v(u({},this._def),{shape:()=>u(u({},this._def.shape()),e)}))}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>u(u({},this._def.shape()),e._def.shape()),typeName:y.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new t(v(u({},this._def),{catchall:e}))}pick(e){let s={};for(let a of A.objectKeys(e))e[a]&&this.shape[a]&&(s[a]=this.shape[a]);return new t(v(u({},this._def),{shape:()=>s}))}omit(e){let s={};for(let a of A.objectKeys(this.shape))e[a]||(s[a]=this.shape[a]);return new t(v(u({},this._def),{shape:()=>s}))}deepPartial(){return le(this)}partial(e){let s={};for(let a of A.objectKeys(this.shape)){let n=this.shape[a];e&&!e[a]?s[a]=n:s[a]=n.optional()}return new t(v(u({},this._def),{shape:()=>s}))}required(e){let s={};for(let a of A.objectKeys(this.shape))if(e&&!e[a])s[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof te;)i=i._def.innerType;s[a]=i}return new t(v(u({},this._def),{shape:()=>s}))}keyof(){return br(A.objectKeys(this.shape))}}return t.create=(r,e)=>new t(u({shape:()=>r,unknownKeys:"strip",catchall:de.create(),typeName:y.ZodObject},x(e))),t.strictCreate=(r,e)=>new t(u({shape:()=>r,unknownKeys:"strict",catchall:de.create(),typeName:y.ZodObject},x(e))),t.lazycreate=(r,e)=>new t(u({shape:r,unknownKeys:"strip",catchall:de.create(),typeName:y.ZodObject},x(e))),t})(),yr=(()=>{class t extends k{_parse(e){let{ctx:s}=this._processInputParams(e),a=this._def.options;function n(i){for(let c of i)if(c.result.status==="valid")return c.result;for(let c of i)if(c.result.status==="dirty")return s.common.issues.push(...c.ctx.common.issues),c.result;let o=i.map(c=>new B(c.ctx.common.issues));return l(s,{code:d.invalid_union,unionErrors:o}),g}if(s.common.async)return Promise.all(a.map(i=>I(this,null,function*(){let o=v(u({},s),{common:v(u({},s.common),{issues:[]}),parent:null});return{result:yield i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}}))).then(n);{let i,o=[];for(let p of a){let h=v(u({},s),{common:v(u({},s.common),{issues:[]}),parent:null}),_=p._parseSync({data:s.data,path:s.path,parent:h});if(_.status==="valid")return _;_.status==="dirty"&&!i&&(i={result:_,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;let c=o.map(p=>new B(p));return l(s,{code:d.invalid_union,unionErrors:c}),g}}get options(){return this._def.options}}return t.create=(r,e)=>new t(u({options:r,typeName:y.ZodUnion},x(e))),t})(),Q=t=>t instanceof vr?Q(t.schema):t instanceof Ee?Q(t.innerType()):t instanceof xr?[t.value]:t instanceof Rt?t.options:t instanceof kr?A.objectValues(t.enum):t instanceof wr?Q(t._def.innerType):t instanceof mr?[void 0]:t instanceof gr?[null]:t instanceof te?[void 0,...Q(t.unwrap())]:t instanceof ze?[null,...Q(t.unwrap())]:t instanceof et||t instanceof Sr?Q(t.unwrap()):t instanceof Ar?Q(t._def.innerType):[],It=class t extends k{_parse(r){let{ctx:e}=this._processInputParams(r);if(e.parsedType!==f.object)return l(e,{code:d.invalid_type,expected:f.object,received:e.parsedType}),g;let s=this.discriminator,a=e.data[s],n=this.optionsMap.get(a);return n?e.common.async?n._parseAsync({data:e.data,path:e.path,parent:e}):n._parseSync({data:e.data,path:e.path,parent:e}):(l(e,{code:d.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),g)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,e,s){let a=new Map;for(let n of e){let i=Q(n.shape[r]);if(!i.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(let o of i){if(a.has(o))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(o)}`);a.set(o,n)}}return new t(u({typeName:y.ZodDiscriminatedUnion,discriminator:r,options:e,optionsMap:a},x(s)))}};function Ct(t,r){let e=P(t),s=P(r);if(t===r)return{valid:!0,data:t};if(e===f.object&&s===f.object){let a=A.objectKeys(r),n=A.objectKeys(t).filter(o=>a.indexOf(o)!==-1),i=u(u({},t),r);for(let o of n){let c=Ct(t[o],r[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(e===f.array&&s===f.array){if(t.length!==r.length)return{valid:!1};let a=[];for(let n=0;n<t.length;n++){let i=t[n],o=r[n],c=Ct(i,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return e===f.date&&s===f.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}var _r=(()=>{class t extends k{_parse(e){let{status:s,ctx:a}=this._processInputParams(e),n=(i,o)=>{if(St(i)||St(o))return g;let c=Ct(i.value,o.value);return c.valid?((Mt(i)||Mt(o))&&s.dirty(),{status:s.value,value:c.data}):(l(a,{code:d.invalid_intersection_types}),g)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}return t.create=(r,e,s)=>new t(u({left:r,right:e,typeName:y.ZodIntersection},x(s))),t})(),Re=(()=>{class t extends k{_parse(e){let{status:s,ctx:a}=this._processInputParams(e);if(a.parsedType!==f.array)return l(a,{code:d.invalid_type,expected:f.array,received:a.parsedType}),g;if(a.data.length<this._def.items.length)return l(a,{code:d.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g;!this._def.rest&&a.data.length>this._def.items.length&&(l(a,{code:d.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());let i=[...a.data].map((o,c)=>{let p=this._def.items[c]||this._def.rest;return p?p._parse(new E(a,o,a.path,c)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>C.mergeArray(s,o)):C.mergeArray(s,i)}get items(){return this._def.items}rest(e){return new t(v(u({},this._def),{rest:e}))}}return t.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new t(u({items:r,typeName:y.ZodTuple,rest:null},x(e)))},t})(),Ot=class t extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:e,ctx:s}=this._processInputParams(r);if(s.parsedType!==f.object)return l(s,{code:d.invalid_type,expected:f.object,received:s.parsedType}),g;let a=[],n=this._def.keyType,i=this._def.valueType;for(let o in s.data)a.push({key:n._parse(new E(s,o,s.path,o)),value:i._parse(new E(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?C.mergeObjectAsync(e,a):C.mergeObjectSync(e,a)}get element(){return this._def.valueType}static create(r,e,s){return e instanceof k?new t(u({keyType:r,valueType:e,typeName:y.ZodRecord},x(s))):new t(u({keyType:hr.create(),valueType:r,typeName:y.ZodRecord},x(e)))}},ba=(()=>{class t extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:s,ctx:a}=this._processInputParams(e);if(a.parsedType!==f.map)return l(a,{code:d.invalid_type,expected:f.map,received:a.parsedType}),g;let n=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([c,p],h)=>({key:n._parse(new E(a,c,a.path,[h,"key"])),value:i._parse(new E(a,p,a.path,[h,"value"]))}));if(a.common.async){let c=new Map;return Promise.resolve().then(()=>I(this,null,function*(){for(let p of o){let h=yield p.key,_=yield p.value;if(h.status==="aborted"||_.status==="aborted")return g;(h.status==="dirty"||_.status==="dirty")&&s.dirty(),c.set(h.value,_.value)}return{status:s.value,value:c}}))}else{let c=new Map;for(let p of o){let h=p.key,_=p.value;if(h.status==="aborted"||_.status==="aborted")return g;(h.status==="dirty"||_.status==="dirty")&&s.dirty(),c.set(h.value,_.value)}return{status:s.value,value:c}}}}return t.create=(r,e,s)=>new t(u({valueType:e,keyType:r,typeName:y.ZodMap},x(s))),t})(),ka=(()=>{class t extends k{_parse(e){let{status:s,ctx:a}=this._processInputParams(e);if(a.parsedType!==f.set)return l(a,{code:d.invalid_type,expected:f.set,received:a.parsedType}),g;let n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(l(a,{code:d.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(l(a,{code:d.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());let i=this._def.valueType;function o(p){let h=new Set;for(let _ of p){if(_.status==="aborted")return g;_.status==="dirty"&&s.dirty(),h.add(_.value)}return{status:s.value,value:h}}let c=[...a.data.values()].map((p,h)=>i._parse(new E(a,p,a.path,h)));return a.common.async?Promise.all(c).then(p=>o(p)):o(c)}min(e,s){return new t(v(u({},this._def),{minSize:{value:e,message:m.toString(s)}}))}max(e,s){return new t(v(u({},this._def),{maxSize:{value:e,message:m.toString(s)}}))}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}return t.create=(r,e)=>new t(u({valueType:r,minSize:null,maxSize:null,typeName:y.ZodSet},x(e))),t})(),Nt=class t extends k{constructor(){super(...arguments),this.validate=this.implement}_parse(r){let{ctx:e}=this._processInputParams(r);if(e.parsedType!==f.function)return l(e,{code:d.invalid_type,expected:f.function,received:e.parsedType}),g;function s(o,c){return Ye({data:o,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Ce(),J].filter(p=>!!p),issueData:{code:d.invalid_arguments,argumentsError:c}})}function a(o,c){return Ye({data:o,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Ce(),J].filter(p=>!!p),issueData:{code:d.invalid_return_type,returnTypeError:c}})}let n={errorMap:e.common.contextualErrorMap},i=e.data;if(this._def.returns instanceof Et){let o=this;return N(function(...c){return I(this,null,function*(){let p=new B([]),h=yield o._def.args.parseAsync(c,n).catch(w=>{throw p.addIssue(s(c,w)),p}),_=yield Reflect.apply(i,this,h);return yield o._def.returns._def.type.parseAsync(_,n).catch(w=>{throw p.addIssue(a(_,w)),p})})})}else{let o=this;return N(function(...c){let p=o._def.args.safeParse(c,n);if(!p.success)throw new B([s(c,p.error)]);let h=Reflect.apply(i,this,p.data),_=o._def.returns.safeParse(h,n);if(!_.success)throw new B([a(h,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new t(v(u({},this._def),{args:Re.create(r).rest(Xe.create())}))}returns(r){return new t(v(u({},this._def),{returns:r}))}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,e,s){return new t(u({args:r||Re.create([]).rest(Xe.create()),returns:e||Xe.create(),typeName:y.ZodFunction},x(s)))}},vr=(()=>{class t extends k{get schema(){return this._def.getter()}_parse(e){let{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}return t.create=(r,e)=>new t(u({getter:r,typeName:y.ZodLazy},x(e))),t})(),xr=(()=>{class t extends k{_parse(e){if(e.data!==this._def.value){let s=this._getOrReturnCtx(e);return l(s,{received:s.data,code:d.invalid_literal,expected:this._def.value}),g}return{status:"valid",value:e.data}}get value(){return this._def.value}}return t.create=(r,e)=>new t(u({value:r,typeName:y.ZodLiteral},x(e))),t})();function br(t,r){return new Rt(u({values:t,typeName:y.ZodEnum},x(r)))}var Rt=(()=>{class t extends k{_parse(e){if(typeof e.data!="string"){let s=this._getOrReturnCtx(e),a=this._def.values;return l(s,{expected:A.joinValues(a),received:s.parsedType,code:d.invalid_type}),g}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let s=this._getOrReturnCtx(e),a=this._def.values;return l(s,{received:s.data,code:d.invalid_enum_value,options:a}),g}return N(e.data)}get options(){return this._def.values}get enum(){let e={};for(let s of this._def.values)e[s]=s;return e}get Values(){let e={};for(let s of this._def.values)e[s]=s;return e}get Enum(){let e={};for(let s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return t.create(e,u(u({},this._def),s))}exclude(e,s=this._def){return t.create(this.options.filter(a=>!e.includes(a)),u(u({},this._def),s))}}return t.create=br,t})(),kr=(()=>{class t extends k{_parse(e){let s=A.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==f.string&&a.parsedType!==f.number){let n=A.objectValues(s);return l(a,{expected:A.joinValues(n),received:a.parsedType,code:d.invalid_type}),g}if(this._cache||(this._cache=new Set(A.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let n=A.objectValues(s);return l(a,{received:a.data,code:d.invalid_enum_value,options:n}),g}return N(e.data)}get enum(){return this._def.values}}return t.create=(r,e)=>new t(u({values:r,typeName:y.ZodNativeEnum},x(e))),t})(),Et=(()=>{class t extends k{unwrap(){return this._def.type}_parse(e){let{ctx:s}=this._processInputParams(e);if(s.parsedType!==f.promise&&s.common.async===!1)return l(s,{code:d.invalid_type,expected:f.promise,received:s.parsedType}),g;let a=s.parsedType===f.promise?s.data:Promise.resolve(s.data);return N(a.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}return t.create=(r,e)=>new t(u({type:r,typeName:y.ZodPromise},x(e))),t})(),Ee=(()=>{class t extends k{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:s,ctx:a}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:o=>{l(a,o),o.fatal?s.abort():s.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){let o=n.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(c=>I(this,null,function*(){if(s.value==="aborted")return g;let p=yield this._def.schema._parseAsync({data:c,path:a.path,parent:a});return p.status==="aborted"?g:p.status==="dirty"?ce(p.value):s.value==="dirty"?ce(p.value):p}));{if(s.value==="aborted")return g;let c=this._def.schema._parseSync({data:o,path:a.path,parent:a});return c.status==="aborted"?g:c.status==="dirty"?ce(c.value):s.value==="dirty"?ce(c.value):c}}if(n.type==="refinement"){let o=c=>{let p=n.refinement(c,i);if(a.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(a.common.async===!1){let c=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return c.status==="aborted"?g:(c.status==="dirty"&&s.dirty(),o(c.value),{status:s.value,value:c.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(c=>c.status==="aborted"?g:(c.status==="dirty"&&s.dirty(),o(c.value).then(()=>({status:s.value,value:c.value}))))}if(n.type==="transform")if(a.common.async===!1){let o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!ee(o))return g;let c=n.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:c}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>ee(o)?Promise.resolve(n.transform(o.value,i)).then(c=>({status:s.value,value:c})):g);A.assertNever(n)}}return t.create=(r,e,s)=>new t(u({schema:r,typeName:y.ZodEffects,effect:e},x(s))),t.createWithPreprocess=(r,e,s)=>new t(u({schema:e,effect:{type:"preprocess",transform:r},typeName:y.ZodEffects},x(s))),t})();var te=(()=>{class t extends k{_parse(e){return this._getType(e)===f.undefined?N(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}return t.create=(r,e)=>new t(u({innerType:r,typeName:y.ZodOptional},x(e))),t})(),ze=(()=>{class t extends k{_parse(e){return this._getType(e)===f.null?N(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}return t.create=(r,e)=>new t(u({innerType:r,typeName:y.ZodNullable},x(e))),t})(),wr=(()=>{class t extends k{_parse(e){let{ctx:s}=this._processInputParams(e),a=s.data;return s.parsedType===f.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}return t.create=(r,e)=>new t(u({innerType:r,typeName:y.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},x(e))),t})(),Ar=(()=>{class t extends k{_parse(e){let{ctx:s}=this._processInputParams(e),a=v(u({},s),{common:v(u({},s.common),{issues:[]})}),n=this._def.innerType._parse({data:a.data,path:a.path,parent:u({},a)});return Oe(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new B(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new B(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}return t.create=(r,e)=>new t(u({innerType:r,typeName:y.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},x(e))),t})(),wa=(()=>{class t extends k{_parse(e){if(this._getType(e)!==f.nan){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_type,expected:f.nan,received:a.parsedType}),g}return{status:"valid",value:e.data}}}return t.create=r=>new t(u({typeName:y.ZodNaN},x(r))),t})(),_i=Symbol("zod_brand"),et=class extends k{_parse(r){let{ctx:e}=this._processInputParams(r),s=e.data;return this._def.type._parse({data:s,path:e.path,parent:e})}unwrap(){return this._def.type}},tt=class t extends k{_parse(r){let{status:e,ctx:s}=this._processInputParams(r);if(s.common.async)return I(this,null,function*(){let n=yield this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?g:n.status==="dirty"?(e.dirty(),ce(n.value)):this._def.out._parseAsync({data:n.value,path:s.path,parent:s})});{let a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?g:a.status==="dirty"?(e.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(r,e){return new t({in:r,out:e,typeName:y.ZodPipeline})}},Sr=(()=>{class t extends k{_parse(e){let s=this._def.innerType._parse(e),a=n=>(ee(n)&&(n.value=Object.freeze(n.value)),n);return Oe(s)?s.then(n=>a(n)):a(s)}unwrap(){return this._def.innerType}}return t.create=(r,e)=>new t(u({innerType:r,typeName:y.ZodReadonly},x(e))),t})();var vi={object:Ne.lazycreate},y=function(t){return t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly",t}(y||{});var U=hr.create,xi=ha.create,bi=wa.create,ki=ma.create,zt=ga.create,wi=ya.create,Ai=_a.create,Si=mr.create,Mi=gr.create,Ti=va.create,Ii=Xe.create,Ci=de.create,Oi=xa.create,Ft=Ke.create,rt=Ne.create,Ni=Ne.strictCreate,Ri=yr.create,Ei=It.create,zi=_r.create,Fi=Re.create,qi=Ot.create,Zi=ba.create,Vi=ka.create,$i=Nt.create,ji=vr.create,Di=xr.create,Li=Rt.create,Pi=kr.create,Bi=Et.create,Qi=Ee.create,st=te.create,Ui=ze.create,Wi=Ee.createWithPreprocess,Hi=tt.create;var Mr=rt({id:U(),text:U(),correct:st(zt())}),Tr=rt({id:U(),question:U(),answers:Ft(Mr)}),Aa=rt({id:U().uuid(),createdAt:U(),editedAt:st(U()),name:U(),isDeleted:st(zt()),questions:Ft(Tr)});var Fe=(s=>(s.All="all",s.Mistakes="mistakes",s.Discovery="discovery",s))(Fe||{}),fe=class{questionBankId;questionsCount;mode};b([G()],fe.prototype,"questionBankId",2),b([Pe(),De(1),it(100)],fe.prototype,"questionsCount",2),b([z(),ur(Fe)],fe.prototype,"mode",2);var he=class{questionId;answerId};b([G()],he.prototype,"questionId",2),b([G()],he.prototype,"answerId",2);var at=class{answers};b([ae(),K({each:!0}),D(()=>he)],at.prototype,"answers",2);var pe=class{take=10;skip=0;questionBankId};b([z(),Pe(),D(()=>Number),De(1),it(100)],pe.prototype,"take",2),b([z(),Pe(),D(()=>Number),De(0)],pe.prototype,"skip",2),b([z(),G()],pe.prototype,"questionBankId",2);var qe=class{startDate;endDate};b([At()],qe.prototype,"startDate",2),b([At()],qe.prototype,"endDate",2);var Ir=class t{quizApi=Vt($t);_loading=new nt(!1);_quizzes=new nt({});quizzes$=this._quizzes.asObservable().pipe(qt(r=>(0,Cr.values)(r)));loading$=this._loading.asObservable();get quizzes(){return this._quizzes.getValue()}reload(){return I(this,null,function*(){this._loading.next(!0);try{let e=(yield Y(this.quizApi.list({take:100,skip:0}))).items.reduce((s,a)=>(s[a.id]=a,s),{});this._quizzes.next(e)}catch(r){console.error("Failed to load quizzes:",r),this._quizzes.next({})}finally{this._loading.next(!1)}})}startQuiz(r){return I(this,null,function*(){this._loading.next(!0);try{return(yield Y(this.quizApi.create({questionBankId:r.questionBankId,questionsCount:r.questionsCount,mode:r.mode}))).quiz}catch(e){throw console.error("Failed to start quiz:",e),e}finally{this._loading.next(!1)}})}markQuizAsFinished(r){return I(this,null,function*(){this._loading.next(!0);try{yield Y(this.quizApi.finish(r));let e=this.quizzes[r];e&&this._quizzes.next(v(u({},this.quizzes),{[r]:v(u({},e),{finishedAt:new Date})}))}catch(e){throw console.error("Failed to finish quiz:",e),e}finally{this._loading.next(!1)}})}setQuizAnswers(r,e){return I(this,null,function*(){this.quizApi.setAnswers(r,{answers:e}).subscribe({error:s=>console.error("Failed to save answers:",s)})})}getQuiz(r){return I(this,null,function*(){this._loading.next(!0);try{return(yield Y(this.quizApi.get(r))).quiz}catch(e){throw console.error("Failed to get quiz:",e),e}finally{this._loading.next(!1)}})}getQuizzes(a){return I(this,arguments,function*({skip:r,take:e,questionBankId:s}){this._loading.next(!0);try{let n=yield Y(this.quizApi.list({take:e,skip:r,questionBankId:s})),i=n.items.reduce((o,c)=>(o[c.id]=c,o),{});return this._quizzes.next(u(u({},this.quizzes),i)),{items:n.items,total:n.total}}catch(n){throw console.error("Failed to get quizzes:",n),n}finally{this._loading.next(!1)}})}clear(){return I(this,null,function*(){this._loading.next(!0);try{yield Y(this.quizApi.clear()),this._quizzes.next({})}catch(r){throw console.error("Failed to clear quizzes:",r),r}finally{this._loading.next(!1)}})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})};export{Mr as a,Tr as b,Aa as c,Ir as d};
