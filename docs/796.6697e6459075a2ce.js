"use strict";(self.webpackChunkquizz=self.webpackChunkquizz||[]).push([[796],{7796:(A,c,a)=>{a.r(c),a.d(c,{QuestionImportComponent:()=>r,QuestionModel:()=>f});var s=a(4006),e=a(3546),p=a(4144),u=a(1948),_=a(6895),d=a(4859),h=a(8372),O=a(4004),M=a(3151),g=a(7489),t=a(4650),v=a(7317),C=a(9299),E=a(9549);function D(i,o){if(1&i&&(t.TgZ(0,"mat-radio-button",10),t._uU(1),t.qZA()),2&i){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function I(i,o){if(1&i&&(t.TgZ(0,"mat-card",8)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"mat-radio-group"),t.YNc(6,D,2,2,"mat-radio-button",9),t.qZA()()()),2&i){const n=o.$implicit;t.xp6(3),t.hij(" ",n.question," "),t.xp6(3),t.Q6J("ngForOf",n.options)}}function P(i,o){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"h1"),t._uU(2,"Output "),t.TgZ(3,"button",5),t.NdJ("click",function(){t.CHM(n);const m=t.oxw(2);return t.KtG(m.import())}),t._uU(4),t.qZA()(),t.TgZ(5,"div",6),t.YNc(6,I,7,2,"mat-card",7),t.qZA(),t.BQk()}if(2&i){const n=t.oxw().ngIf;t.xp6(4),t.hij("Import ",n.length," questions"),t.xp6(2),t.Q6J("ngForOf",n)}}function T(i,o){if(1&i&&(t.ynx(0),t.YNc(1,P,7,2,"ng-container",4),t.BQk()),2&i){const n=o.ngIf;t.xp6(1),t.Q6J("ngIf",n.length>0)}}class r{constructor(o,n){this.quiz=o,this.activatedRoute=n,this.control=new s.NI(""),this.questions$=this.control.valueChanges.pipe((0,h.b)(500),(0,O.U)(()=>{if((0,g.isEmpty)(this.control.value))return[];const l=this.control.value?.replace(/\n/g," ").split(/(?=\b\d{1,2}\b\.)/);return this.parsedQuestions=l?.map(m=>new f(m)),this.parsedQuestions}),(0,M.d)(1)),this.parsedQuestions=[],this.id=this.activatedRoute.parent?.snapshot.paramMap.get("id")}import(){const o=this.parsedQuestions?.map(n=>({question:n.question,answers:n.options.map(l=>({text:l}))}));o&&(this.quiz.addQuestion(this.id,o),this.control.reset(""))}}r.\u0275fac=function(o){return new(o||r)(t.Y36(v.w),t.Y36(C.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-question-import"]],standalone:!0,features:[t.jDz],decls:11,vars:4,consts:[[1,"row"],[1,"column"],["appearance","fill",2,"width","100%"],["matInput","","rows","30",3,"formControl"],[4,"ngIf"],["color","primary","mat-raised-button","",3,"click"],[2,"max-height","80vh","overflow","scroll"],["style","margin-bottom: 1rem;",4,"ngFor","ngForOf"],[2,"margin-bottom","1rem"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"Raw questions"),t.qZA(),t.TgZ(4,"mat-form-field",2)(5,"mat-label"),t._uU(6,"Raw questions"),t.qZA(),t._UZ(7,"textarea",3),t.qZA()(),t.TgZ(8,"div",1),t.YNc(9,T,2,1,"ng-container",4),t.ALo(10,"async"),t.qZA()()),2&o&&(t.xp6(7),t.Q6J("formControl",n.control),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,2,n.questions$)))},dependencies:[e.QW,e.a8,e.dn,e.dk,e.n5,p.c,p.Nt,E.KE,E.hX,s.UX,s.Fj,s.JJ,s.oH,u.Fk,u.VQ,u.U0,_.ez,_.sg,_.O5,_.Ov,d.ot,d.lW],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%;gap:2rem;margin-top:2rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1}"],changeDetection:0});class f{constructor(o){const n=o.split(/(?=[A-Z]\.)/);this.question=n[0],this.options=n.slice(1,n.length)}}}}]);