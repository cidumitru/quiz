"use strict";(self.webpackChunkquizz=self.webpackChunkquizz||[]).push([[67],{8067:(B,h,n)=>{n.r(h),n.d(h,{QuestionListEditComponent:()=>_});var M=n(8675),f=n(3900),D=n(4004),s=n(4006),m=n(1948),r=n(3546),l=n(6895),C=n(266),u=n(5139),A=n(4859),p=n(3336),g=n(4144),t=n(4650),P=n(1635),T=n(7317),O=n(9549);function v(e,i){1&e&&(t.TgZ(0,"h1"),t._uU(1,"No questions added"),t.qZA())}function L(e,i){if(1&e&&(t.TgZ(0,"mat-radio-button",12),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.Q6J("checked",o.correct)("value",o.id),t.xp6(1),t.Oqu(o.text)}}function U(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"mat-card",5)(1,"mat-card-header",6)(2,"mat-card-subtitle",7)(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"mat-icon",8),t.NdJ("click",function(){const d=t.CHM(o).$implicit,E=t.oxw();return t.KtG(E.deleteQuestion(d))}),t._uU(6,"delete"),t.qZA()(),t.TgZ(7,"mat-card-title"),t._uU(8),t.qZA()(),t.TgZ(9,"mat-card-actions",9)(10,"mat-radio-group",10),t.NdJ("change",function(c){const E=t.CHM(o).$implicit,I=t.oxw();return t.KtG(I.setCorrectAnswer(E.id,c))}),t.YNc(11,L,2,3,"mat-radio-button",11),t.qZA()()()}if(2&e){const o=i.$implicit,a=i.index;t.xp6(4),t.AsE(" Question index: ",a+1," | questionId: ",o.id," | "),t.xp6(4),t.hij(" ",o.question," "),t.xp6(3),t.Q6J("ngForOf",o.answers)}}class _{constructor(i,o){this.activatedRoute=i,this.questionBank=o,this.control=new s.NI(""),this.searchControl=new s.NI("",{nonNullable:!0}),this.questions$=this.searchControl.valueChanges.pipe((0,M.O)(""),(0,f.w)(a=>this.quiz$.pipe((0,D.U)(c=>c.questions.filter(d=>d.question.toLowerCase().includes(a.toLowerCase())))))),this.id=this.activatedRoute.parent?.snapshot.paramMap.get("id"),this.quiz$=this.questionBank.watchQuestionBank(this.id)}setCorrectAnswer(i,o){this.questionBank.setCorrectAnswer(this.id,i,o.value)}deleteQuestion(i){confirm("Are you sure you want to delete this question?")&&this.questionBank.deleteQuestion(this.id,i.id)}}_.\u0275fac=function(i){return new(i||_)(t.Y36(P.gz),t.Y36(T.w))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-question-edit"]],standalone:!0,features:[t.jDz],decls:9,vars:7,consts:[[4,"ngIf"],["appearance","fill",2,"width","100%"],["matInput","",3,"formControl"],["itemSize","100",2,"height","70vh"],["style","margin-bottom: 1rem;",4,"cdkVirtualFor","cdkVirtualForOf"],[2,"margin-bottom","1rem"],[2,"display","block"],[2,"display","flex","justify-content","space-between"],["color","warn","matTooltip","Delete",2,"cursor","pointer",3,"click"],["align","start"],[3,"change"],["matTooltip","Mark as correct",3,"checked","value",4,"ngFor","ngForOf"],["matTooltip","Mark as correct",3,"checked","value"]],template:function(i,o){if(1&i&&(t.YNc(0,v,2,0,"h1",0),t.ALo(1,"async"),t.TgZ(2,"mat-form-field",1)(3,"mat-label"),t._uU(4,"Search by question title"),t.qZA(),t._UZ(5,"input",2),t.qZA(),t.TgZ(6,"cdk-virtual-scroll-viewport",3),t.YNc(7,U,12,4,"mat-card",4),t.ALo(8,"async"),t.qZA()),2&i){let a;t.Q6J("ngIf",0===(null==(a=t.lcZ(1,3,o.quiz$))||null==a.questions?null:a.questions.length)),t.xp6(5),t.Q6J("formControl",o.searchControl),t.xp6(2),t.Q6J("cdkVirtualForOf",t.lcZ(8,5,o.questions$))}},dependencies:[l.ez,l.sg,l.O5,l.Ov,m.Fk,m.VQ,m.U0,r.QW,r.a8,r.hq,r.dk,r.$j,r.n5,C.AV,C.gM,u.Cl,u.xd,u.x0,u.N7,A.ot,p.Ps,p.Hw,s.UX,s.Fj,s.JJ,s.oH,g.c,g.Nt,O.KE,O.hX]})}}]);